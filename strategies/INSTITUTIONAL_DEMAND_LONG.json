{
    "pattern_id": "INSTITUTIONAL_DEMAND_LONG",
    "regime_config": {
        "BULLISH": {
            "allow_entry": true,
            "quantity_mod": 1.0,
            "tp_mult": 1.0,
            "buffer_atr": 0.5
        },
        "COMPLETE_BULLISH": {
            "allow_entry": true,
            "quantity_mod": 1.5,
            "tp_mult": 1.0,
            "buffer_atr": 0.5
        },
        "COMPLETE_BEARISH": {
            "allow_entry": false,
            "quantity_mod": 1.0,
            "tp_mult": 1.0,
            "buffer_atr": 0.5
        }
    },
    "phases": [
        {
            "id": "DEMAND_SETUP",
            "conditions": [
                "volume > (moving_avg(history, 20, 'volume') * 1.5)",
                "candle.getLow() == lowest(history, 50, 'low')"
            ],
            "capture": {
                "block_high": "candle.getHigh()",
                "block_low": "candle.getLow()"
            }
        },
        {
            "id": "RETEST_VALIDATION",
            "conditions": [
                "candle.getLow() >= vars.block_low",
                "candle.getLow() <= (vars.block_low + (vars.block_high - vars.block_low) * 0.3)"
            ],
            "timeout": 15
        },
        {
            "id": "TRIGGER",
            "conditions": [
                "candle.getClose() > vars.block_high",
                "sentiment.breadth_ratio > 1.2"
            ]
        }
    ],
    "execution": {
        "side": "LONG",
        "entry": "vars.block_high + 0.5",
        "sl": "vars.block_low - 2.0",
        "tp": "entry + ( (entry - sl) * 3.0 )",
        "option_selection": "ATM_CALL"
    }
}