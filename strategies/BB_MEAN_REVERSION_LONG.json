{
    "pattern_id": "BB_MEAN_REVERSION_LONG",
    "regime_config": {
        "SIDEWAYS": {
            "allow_entry": true,
            "quantity_mod": 1.2,
            "tp_mult": 1.5
        },
        "BEARISH": {
            "allow_entry": true,
            "quantity_mod": 1.0,
            "tp_mult": 1.0
        }
    },
    "phases": [
        {
            "id": "OUTSIDE",
            "conditions": [
                "low < bb_lower(history, 20, 2.0)"
            ],
            "capture": {
                "lower_band": "bb_lower(history, 20, 2.0)"
            },
            "timeout": 0
        },
        {
            "id": "TRIGGER",
            "conditions": [
                "close > vars.lower_band",
                "close > open"
            ],
            "capture": {},
            "timeout": 3
        }
    ],
    "execution": {
        "side": "BUY",
        "entry": "close",
        "sl": "lowest(history, 3, 'low')",
        "tp": "close + (close - sl) * 2.0",
        "option_selection": "ATM_CALL"
    }
}